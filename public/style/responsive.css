/* ===================================================
   KILANGDM RESPONSIVE DESIGN
   Full responsive support for all devices
   ================================================= */

/* ===================================================
   BREAKPOINTS
   ================================================= */
/*
- Mobile (Portrait): 320px - 480px
- Mobile (Landscape): 481px - 768px  
- Tablet (Portrait): 769px - 1024px
- Tablet (Landscape): 1025px - 1200px
- Desktop: 1201px+
*/

/* ===================================================
   MOBILE PORTRAIT (320px - 480px)
   ================================================= */
@media screen and (max-width: 480px) {
    /* Global */
    body {
        font-size: 14px;
        line-height: 1.5;
    }
    
    /* Navigation */
    .main-nav,
    .nav-container {
        padding: 0.5rem;
        flex-direction: column;
        position: relative;
    }
    
    .nav-brand {
        margin-bottom: 1rem;
        text-align: center;
    }
    
    .nav-brand h2 {
        font-size: 1.2rem;
    }
    
    .nav-brand span {
        font-size: 0.8rem;
    }
    
    .nav-links {
        display: none;
        width: 100%;
        flex-direction: column;
        background: var(--card-bg);
        border-radius: var(--radius-md);
        padding: 1rem;
    }
    
    .nav-links.mobile-active {
        display: flex;
    }
    
    .nav-link {
        padding: 0.75rem;
        margin-bottom: 0.5rem;
        border-radius: var(--radius-sm);
        justify-content: center;
    }
    
    .nav-time {
        display: none;
    }
    
    .mobile-menu-btn {
        display: block !important;
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background: var(--accent-gradient);
        color: white;
        border: none;
        border-radius: var(--radius-sm);
        padding: 0.5rem;
        cursor: pointer;
    }
    
    /* Main Container */
    .main-container,
    .container {
        margin-top: 8rem;
        padding: 0.5rem;
        max-width: 100%;
    }
    
    /* Grid Layouts */
    .main-container.grid,
    .main-container {
        grid-template-columns: 1fr !important;
        gap: 1rem;
    }
    
    .kpi-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
    }
    
    .power-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
    }
    
    .charts-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
    }
    
    .advanced-filter-grid,
    .custom-range-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
    }
    
    .quick-select-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
    }
    
    /* Cards */
    .card,
    .kpi-card,
    .metric-card,
    .chart-card,
    .upload-container,
    .form-container {
        padding: 1rem;
        margin-bottom: 1rem;
        border-radius: var(--radius-md);
    }
    
    /* Upload Area */
    .upload-area {
        padding: 2rem 1rem;
    }
    
    .upload-icon {
        font-size: 2rem;
    }
    
    /* Forms */
    .form-input,
    .form-select,
    .filter-input,
    .filter-select {
        font-size: 16px; /* Prevent zoom on iOS */
        padding: 0.75rem;
    }
    
    .btn {
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        width: 100%;
        justify-content: center;
        margin-bottom: 0.5rem;
    }
    
    /* Filter Actions */
    .filter-actions {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    /* Tables */
    .table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    table {
        min-width: 600px;
        font-size: 0.8rem;
    }
    
    /* Floating Home Button */
    .floating-home-btn {
        bottom: 1rem;
        right: 1rem;
    }
    
    .home-btn {
        width: 44px;
        height: 44px;
        font-size: 1rem;
    }
    
    /* Headers */
    .page-title {
        font-size: 1.5rem;
        text-align: center;
    }
    
    .section-title {
        font-size: 1.2rem;
    }
    
    .dashboard-header {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .header-stats {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    /* Month Quick Grid */
    .month-quick-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
    }
    
    /* File Type Indicators */
    .file-type-indicators {
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
    }
}

/* ===================================================
   MOBILE LANDSCAPE (481px - 768px)
   ================================================= */
@media screen and (min-width: 481px) and (max-width: 768px) {
    /* Navigation */
    .nav-links {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .nav-link {
        flex: 1;
        min-width: 120px;
        font-size: 0.8rem;
        padding: 0.5rem;
    }
    
    .mobile-menu-btn {
        display: none;
    }
    
    /* Main Container */
    .main-container,
    .container {
        margin-top: 6rem;
        padding: 1rem;
    }
    
    /* Grid Layouts */
    .kpi-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem;
    }
    
    .power-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem;
    }
    
    .charts-grid {
        grid-template-columns: 1fr !important;
        gap: 1.5rem;
    }
    
    .quick-select-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.75rem;
    }
    
    .advanced-filter-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem;
    }
    
    /* Two column layout for ecommerce */
    .main-container.grid {
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
    }
    
    /* Forms */
    .filter-actions {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 0.75rem;
    }
    
    .btn {
        width: auto;
        min-width: 120px;
    }
    
    /* Month Quick Grid */
    .month-quick-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }
    
    /* Headers */
    .dashboard-header {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-start;
    }
}

/* ===================================================
   TABLET PORTRAIT (769px - 1024px)
   ================================================= */
@media screen and (min-width: 769px) and (max-width: 1024px) {
    /* Navigation */
    .nav-links {
        display: flex;
        gap: 1rem;
    }
    
    .nav-link {
        padding: 0.75rem 1rem;
    }
    
    .mobile-menu-btn {
        display: none;
    }
    
    /* Main Container */
    .main-container,
    .container {
        padding: 0.5rem;
        max-width: 95%;
    }
    
    /* Grid Layouts */
    .kpi-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1.5rem;
    }
    
    .power-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1.5rem;
    }
    
    .charts-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1.5rem;
    }
    
    .quick-select-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 1rem;
    }
    
    .advanced-filter-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1.5rem;
    }
    
    /* Two column layout maintained */
    .main-container.grid {
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
    
    /* Cards */
    .card,
    .kpi-card,
    .metric-card,
    .chart-card {
        padding: 1.5rem;
    }
    
    /* Upload Area */
    .upload-area {
        padding: 2.5rem 2rem;
    }
}

/* ===================================================
   TABLET LANDSCAPE & SMALL DESKTOP (1025px - 1200px)
   ================================================= */
@media screen and (min-width: 1025px) and (max-width: 1200px) {
    /* Main Container */
    .main-container,
    .container {
        max-width: 95%;
        padding: 0.5rem;
    }
    
    /* Grid Layouts */
    .kpi-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 1.5rem;
    }
    
    .power-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 1.5rem;
    }
    
    .charts-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 2rem;
    }
    
    .charts-grid .main-chart {
        grid-column: span 2;
    }
    
    .quick-select-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 1rem;
    }
    
    .advanced-filter-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 1.5rem;
    }
}

/* ===================================================
   LARGE DESKTOP (1201px+)
   ================================================= */
@media screen and (min-width: 1201px) {
    /* Main Container */
    .main-container,
    .container {
        max-width: 95%;
        padding: 0.5rem;
    }
    
    /* Grid Layouts */
    .kpi-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 2rem;
    }
    
    .power-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 2rem;
    }
    
    .charts-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 2rem;
    }
    
    .charts-grid .main-chart {
        grid-column: span 2;
    }
    
    .quick-select-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 1.5rem;
    }
    
    .advanced-filter-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 2rem;
    }
}

/* ===================================================
   ULTRA-WIDE SCREENS (1400px+)
   ================================================= */
@media screen and (min-width: 1400px) {
    .kpi-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
    
    .power-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
    
    .charts-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
    
    .charts-grid .main-chart {
        grid-column: span 2;
    }
}

/* ===================================================
   TOUCH DEVICE OPTIMIZATIONS
   ================================================= */
@media (hover: none) and (pointer: coarse) {
    /* Larger touch targets */
    .btn,
    .nav-link,
    .quick-btn,
    .filter-tab {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Remove hover effects */
    .card:hover,
    .kpi-card:hover,
    .metric-card:hover {
        transform: none;
    }
    
    .btn:hover,
    .nav-link:hover {
        transform: none;
    }
    
    /* Better scroll areas */
    .table-container,
    .nav-links {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
}

/* ===================================================
   HIGH DPI SCREENS
   ================================================= */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Crisp borders */
    .card,
    .kpi-card,
    .metric-card {
        border-width: 0.5px;
    }
    
    /* Better text rendering */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* ===================================================
   DARK MODE SUPPORT
   ================================================= */
@media (prefers-color-scheme: dark) {
    /* Already handled by unified theme */
}

/* ===================================================
   REDUCED MOTION SUPPORT
   ================================================= */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ===================================================
   PRINT STYLES
   ================================================= */
@media print {
    .floating-home-btn,
    .mobile-menu-btn,
    .nav-links,
    .filter-section {
        display: none !important;
    }
    
    .main-container {
        margin-top: 0;
        box-shadow: none;
    }
    
    .card,
    .kpi-card,
    .metric-card {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #ccc;
    }
}

/* ===================================================
   ACCESSIBILITY IMPROVEMENTS
   ================================================= */
@media (prefers-contrast: high) {
    :root {
        --border-primary: #ffffff;
        --border-secondary: #cccccc;
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
    }
}

/* Focus visible for keyboard navigation */
.nav-link:focus-visible,
.btn:focus-visible,
.form-input:focus-visible,
.form-select:focus-visible {
    outline: 2px solid var(--text-accent);
    outline-offset: 2px;
}

/* ===================================================
   LANDSCAPE ORIENTATION FIXES
   ================================================= */
@media screen and (orientation: landscape) and (max-height: 500px) {
    .main-container {
        margin-top: 4rem;
    }
    
    .nav-container {
        padding: 0.5rem 1rem;
    }
    
    .nav-brand h2 {
        font-size: 1rem;
    }
    
    .nav-brand span {
        display: none;
    }
}